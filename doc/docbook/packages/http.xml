<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN" "http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">
<book lang="en">
  <bookinfo>
    <title>Http</title>
    <releaseinfo>$Revision: 654 $</releaseinfo>
    <pubdate>$Date: 2012-04-08 14:01:34 +0200 (So, 08. Apr 2012) $</pubdate>
  </bookinfo>
  <chapter xml:id="http.introduction">
    <title>Introduction</title>
    <para>The http package provides an robust and intuitive way to make http requests.</para>
  </chapter>
  <chapter xml:id="http.examples">
    <title>Examples</title>
    <para>The following chapter contains useful examples howto use the http package.</para>
    <sect1>
      <title>GET request</title>
      <para>Normal GET request</para>
      <programlisting role="php"><![CDATA[
$http     = new PSX_Http();
$request  = new PSX_Http_GetRequest('http://phpsx.org/');
$response = $http->request($request);

if($response->getCode() == 200)
{
	echo $response->getBody();
}
else
{
	echo 'Invalid response code ' . $response->getCode();
}
]]></programlisting>
    </sect1>
    <sect1>
      <title>POST request</title>
      <para>In this example we send an application/x-www-form-urlencoded POST request to the url.
If $body is an array it will be automatically converted to an url encoded string else the body gets
not modified.</para>
      <programlisting role="php"><![CDATA[
$body     = array('foo' => 'bar');
$http     = new PSX_Http();
$request  = new PSX_Http_PostRequest('http://phpsx.org/', array(), $body);
$response = $http->request($request);

if($response->getCode() == 200)
{
	echo $response->getBody();
}
]]></programlisting>
    </sect1>
    <sect1>
      <title>Set custom headers</title>
      <para>An GET request with an custom auth header</para>
      <programlisting role="php"><![CDATA[
$header   = array('Authorization' => 'Basic ' . base64_encode('user:pw'));
$http     = new PSX_Http();
$request  = new PSX_Http_GetRequest('http://phpsx.org/', $header);
$response = $http->request($request);

if($response->getCode() == 200)
{
	echo $response->getBody();
}
]]></programlisting>
    </sect1>
    <sect1>
      <title>Reading response headers</title>
      <para>An image proxy wich requests an png image and checks whether the content type is image/png.
If yes it tries to create an image from the response body and outputs the image to the browser</para>
      <programlisting role="php"><![CDATA[
$http     = new PSX_Http();
$request  = new PSX_Http_GetRequest('http://phpsx.org/img/psx_logo_small.png');
$response = $http->request($request);

if($response->getCode() == 200)
{
	$contentType = $response->getHeader('Content-Type');

	if($contentType == 'image/png')
	{
		$im = imagecreatefromstring($response->getBody());

		if($im !== false)
		{
			header('Content-Type: image/png');
			imagepng($im);
			imagedestroy($im);
		}
	}
}
]]></programlisting>
    </sect1>
    <sect1>
      <title>Https request</title>
      <para>To send an https request simply use the https scheme at your request url. If the url scheme is https
the handler tries to make an SSL request. The socks handler uses either the tls:// or ssl:// wrapper to make https
requests.</para>
      <programlisting role="php"><![CDATA[
$http     = new PSX_Http();
$request  = new PSX_Http_GetRequest('https://google.com');
$response = $http->request($request);

if($response->getCode() == 200)
{
}
]]></programlisting>
      <para>The curl handler normally doesnt verify the certificate but you can set an path to an file wich holds
CA certificates. Here an example to make an https request and verify the certificate.</para>
      <programlisting role="php"><![CDATA[
$handler  = new PSX_Http_Handler_Curl();
$handler->setCaInfo('certdata.txt');

$http     = new PSX_Http($handler);
$request  = new PSX_Http_GetRequest('https://google.com');
$response = $http->request($request);

if($response->getCode() == 200)
{
	// the body was securely transfered
	echo $response->getBody();
}
]]></programlisting>
    </sect1>
    <sect1>
      <title>Follow redirects</title>
      <para>An example howto follow 3xx redirects. The max redirect limit is normally 8 but you can set as second parameter of the setFollowLocation method the specific number.</para>
      <programlisting role="php"><![CDATA[
$http     = new PSX_Http();
$request  = new PSX_Http_GetRequest('http://google.com');
$request->setFollowLocation(true);
$response = $http->request($request);

if($response->getCode() == 200)
{
	echo $response->getBody();
}
]]></programlisting>
    </sect1>
    <sect1>
      <title>Using cookies</title>
      <para>It possible to store cookies from an request to use them in the next request i.e. for authentication or to simulate an browser like behavior.</para>
      <programlisting role="php"><![CDATA[
$http     = new PSX_Http();
$http->setCookieStore(new PSX_Http_CookieStore_Memory());
$request  = new PSX_Http_GetRequest('http://google.com');
$request->setFollowLocation(true);
$response = $http->request($request);

if($response->getCode() == 200)
{
	// we have received the following cookies
	$cookies = $http->getCookieStore()->load('google.com');

	var_dump($cookies);

	// the cookies are automatically added on any following request
	$request  = new PSX_Http_GetRequest('http://google.com');
	$response = $http->request($request);
}
]]></programlisting>
    </sect1>
  </chapter>
  <appendix xml:id="http.synopsis">
    <title>Reference (16)</title>
    <sect1>
      <title>PSX_Http</title>
      <para>This class offers a simple way to make http requests. It can use either curl
(recommended) or fsockopen handler to send the request. Here an example of
an basic GET request
<code>
$http = new PSX_Http(new PSX_Http_Handler_Curl());
$url  = new PSX_Url('http://google.com');

$request  = new PSX_Http_GetRequest($url);
$response = $http-&gt;request($request);

if($response-&gt;getCode() == 200)
{
  echo $response-&gt;getBody();
}
</code></para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http</classname>
        </ooclass>
        <fieldsynopsis>
          <modifier>public</modifier>
          <modifier>static</modifier>
          <varname>newLine</varname>
        </fieldsynopsis>
        <fieldsynopsis>
          <modifier>public</modifier>
          <modifier>static</modifier>
          <varname>codes</varname>
        </fieldsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Http</type>
          <methodname>__construct</methodname>
          <methodparam choice="opt">
            <type>PSX_Http_HandlerInterface</type>
            <parameter>handler</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Http_Response</type>
          <methodname>request</methodname>
          <methodparam>
            <type>PSX_Http_Request</type>
            <parameter>request</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>mixed</type>
            <parameter>count</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setHandler</methodname>
          <methodparam>
            <type>PSX_Http_HandlerInterface</type>
            <parameter>handler</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Http_HandlerInterface</type>
          <methodname>getHandler</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setCookieStore</methodname>
          <methodparam>
            <type>mixed</type>
            <parameter>cookieStore</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Http_CookieStoreInterface</type>
          <methodname>getCookieStore</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getLastError</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getRequest</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getResponse</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_Cookie</title>
      <para>PSX_Http_Cookie</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_Cookie</classname>
        </ooclass>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>__construct</methodname>
          <methodparam>
            <type>mixed</type>
            <parameter>name</parameter>
          </methodparam>
          <methodparam>
            <type>mixed</type>
            <parameter>value</parameter>
          </methodparam>
          <methodparam>
            <type>mixed</type>
            <parameter>expires</parameter>
          </methodparam>
          <methodparam>
            <type>mixed</type>
            <parameter>path</parameter>
          </methodparam>
          <methodparam>
            <type>mixed</type>
            <parameter>domain</parameter>
          </methodparam>
          <methodparam>
            <type>mixed</type>
            <parameter>secure</parameter>
          </methodparam>
          <methodparam>
            <type>mixed</type>
            <parameter>httponly</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getName</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getValue</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getExpires</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getPath</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getDomain</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getSecure</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getHttponly</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <modifier>static</modifier>
          <type>PSX_Http_Cookie</type>
          <methodname>convert</methodname>
          <methodparam>
            <type>string</type>
            <parameter>header</parameter>
          </methodparam>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_CookieStoreInterface</title>
      <para>PSX_Http_CookieStoreInterface</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_CookieStoreInterface</classname>
        </ooclass>
        <methodsynopsis>
          <modifier>abstract</modifier>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>store</methodname>
          <methodparam>
            <type>string</type>
            <parameter>domain</parameter>
          </methodparam>
          <methodparam>
            <type>PSX_Http_Cookie</type>
            <parameter>cookie</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>abstract</modifier>
          <modifier>public</modifier>
          <type>array&lt;PSX_Http_Cookie&gt;</type>
          <methodname>load</methodname>
          <methodparam>
            <type>string</type>
            <parameter>domain</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>abstract</modifier>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>remove</methodname>
          <methodparam>
            <type>string</type>
            <parameter>domain</parameter>
          </methodparam>
          <methodparam>
            <type>PSX_Http_Cookie</type>
            <parameter>cookie</parameter>
          </methodparam>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_CookieStore_Memory</title>
      <para>PSX_Http_CookieStore_Memory</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_CookieStore_Memory</classname>
        </ooclass>
        <oointerface>
          <interfacename>PSX_Http_CookieStoreInterface</interfacename>
        </oointerface>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>store</methodname>
          <methodparam>
            <type>mixed</type>
            <parameter>domain</parameter>
          </methodparam>
          <methodparam>
            <type>mixed</type>
            <parameter>cookie</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>load</methodname>
          <methodparam>
            <type>mixed</type>
            <parameter>domain</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>remove</methodname>
          <methodparam>
            <type>mixed</type>
            <parameter>domain</parameter>
          </methodparam>
          <methodparam>
            <type>mixed</type>
            <parameter>cookie</parameter>
          </methodparam>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_DeleteRequest</title>
      <para>PSX_Http_DeleteRequest</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_DeleteRequest</classname>
        </ooclass>
        <ooclass>
          <classname>PSX_Http_Request</classname>
        </ooclass>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Http_DeleteRequest</type>
          <methodname>__construct</methodname>
          <methodparam>
            <type>PSX_Url|string</type>
            <parameter>url</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>body</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>boolean</type>
            <parameter>override</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>setBody</methodname>
          <methodparam>
            <type>mixed</type>
            <parameter>body</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setUrl</methodname>
          <methodparam>
            <type>PSX_Url</type>
            <parameter>url</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setMethod</methodname>
          <methodparam>
            <type>string</type>
            <parameter>method</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setScheme</methodname>
          <methodparam>
            <type>string</type>
            <parameter>scheme</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setSSL</methodname>
          <methodparam>
            <type>boolean</type>
            <parameter>ssl</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setTimeout</methodname>
          <methodparam>
            <type>integer</type>
            <parameter>timeout</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setCallback</methodname>
          <methodparam>
            <type>Closure</type>
            <parameter>callback</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Url</type>
          <methodname>getUrl</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getMethod</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getScheme</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>boolean</type>
          <methodname>isSSL</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getTimeout</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>Closure</type>
          <methodname>getCallback</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getLine</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>addHeader</methodname>
          <methodparam>
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
          <methodparam>
            <type>string</type>
            <parameter>value</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setFollowLocation</methodname>
          <methodparam>
            <type>boolean</type>
            <parameter>location</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>integer</type>
            <parameter>maxRedirects</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>boolean</type>
          <methodname>getFollowLocation</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getMaxRedirects</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>toString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>__toString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <modifier>static</modifier>
          <type>array</type>
          <methodname>mergeHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>defaultHeader</parameter>
          </methodparam>
          <methodparam>
            <type>array</type>
            <parameter>customHeader</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>array|string</type>
          <methodname>getHeader</methodname>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getBody</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_Exception</title>
      <para>PSX_Http_Exception</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_Exception</classname>
        </ooclass>
        <ooclass>
          <classname>PSX_Exception</classname>
        </ooclass>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>__construct</methodname>
          <methodparam choice="opt">
            <type>mixed</type>
            <parameter>message</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>mixed</type>
            <parameter>code</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>mixed</type>
            <parameter>previous</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>final</modifier>
          <modifier>public</modifier>
          <methodname>getMessage</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>final</modifier>
          <modifier>public</modifier>
          <methodname>getCode</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>final</modifier>
          <modifier>public</modifier>
          <methodname>getFile</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>final</modifier>
          <modifier>public</modifier>
          <methodname>getLine</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>final</modifier>
          <modifier>public</modifier>
          <methodname>getTrace</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>final</modifier>
          <modifier>public</modifier>
          <methodname>getPrevious</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>final</modifier>
          <modifier>public</modifier>
          <methodname>getTraceAsString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>__toString</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_GetRequest</title>
      <para>PSX_Http_GetRequest</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_GetRequest</classname>
        </ooclass>
        <ooclass>
          <classname>PSX_Http_Request</classname>
        </ooclass>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Http_GetRequest</type>
          <methodname>__construct</methodname>
          <methodparam>
            <type>PSX_Url|string</type>
            <parameter>url</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setUrl</methodname>
          <methodparam>
            <type>PSX_Url</type>
            <parameter>url</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setMethod</methodname>
          <methodparam>
            <type>string</type>
            <parameter>method</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setScheme</methodname>
          <methodparam>
            <type>string</type>
            <parameter>scheme</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setSSL</methodname>
          <methodparam>
            <type>boolean</type>
            <parameter>ssl</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setTimeout</methodname>
          <methodparam>
            <type>integer</type>
            <parameter>timeout</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setCallback</methodname>
          <methodparam>
            <type>Closure</type>
            <parameter>callback</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Url</type>
          <methodname>getUrl</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getMethod</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getScheme</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>boolean</type>
          <methodname>isSSL</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getTimeout</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>Closure</type>
          <methodname>getCallback</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getLine</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>addHeader</methodname>
          <methodparam>
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
          <methodparam>
            <type>string</type>
            <parameter>value</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setFollowLocation</methodname>
          <methodparam>
            <type>boolean</type>
            <parameter>location</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>integer</type>
            <parameter>maxRedirects</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>boolean</type>
          <methodname>getFollowLocation</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getMaxRedirects</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>toString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>__toString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <modifier>static</modifier>
          <type>array</type>
          <methodname>mergeHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>defaultHeader</parameter>
          </methodparam>
          <methodparam>
            <type>array</type>
            <parameter>customHeader</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setBody</methodname>
          <methodparam>
            <type>string</type>
            <parameter>body</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>array|string</type>
          <methodname>getHeader</methodname>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getBody</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_HandlerInterface</title>
      <para>PSX_Http_HandlerInterface</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_HandlerInterface</classname>
        </ooclass>
        <methodsynopsis>
          <modifier>abstract</modifier>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>request</methodname>
          <methodparam>
            <type>PSX_Http_Request</type>
            <parameter>request</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>abstract</modifier>
          <modifier>public</modifier>
          <type>string|false</type>
          <methodname>getLastError</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>abstract</modifier>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getRequest</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>abstract</modifier>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getResponse</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_Handler_Curl</title>
      <para>The logic of following redirects is handeled in the PSX_Http class to avoid
that handlers have to deal with this. But because curl has an follow location
option wich is probably faster you can enable this in the handler. Note
CURLOPT_FOLLOWLOCATION throws an error if in safe mode or and open_basedir is
set. If you use the curl redirection the redirect will not include any
cookies of the store. Because of these drawbacks the option is by default
disabled</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_Handler_Curl</classname>
        </ooclass>
        <oointerface>
          <interfacename>PSX_Http_HandlerInterface</interfacename>
        </oointerface>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>__construct</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>setFollowLocation</methodname>
          <methodparam>
            <type>mixed</type>
            <parameter>followLocation</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setCaInfo</methodname>
          <methodparam>
            <type>string</type>
            <parameter>path</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>request</methodname>
          <methodparam>
            <type>mixed</type>
            <parameter>request</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>mixed</type>
            <parameter>count</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getLastError</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getRequest</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getResponse</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_Handler_Socks</title>
      <para>PSX_Http_Handler_Socks</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_Handler_Socks</classname>
        </ooclass>
        <oointerface>
          <interfacename>PSX_Http_HandlerInterface</interfacename>
        </oointerface>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>request</methodname>
          <methodparam>
            <type>mixed</type>
            <parameter>request</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>mixed</type>
            <parameter>count</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getLastError</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getRequest</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>getResponse</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_HeadRequest</title>
      <para>PSX_Http_HeadRequest</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_HeadRequest</classname>
        </ooclass>
        <ooclass>
          <classname>PSX_Http_Request</classname>
        </ooclass>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Http_HeadRequest</type>
          <methodname>__construct</methodname>
          <methodparam>
            <type>PSX_Url|string</type>
            <parameter>url</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setUrl</methodname>
          <methodparam>
            <type>PSX_Url</type>
            <parameter>url</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setMethod</methodname>
          <methodparam>
            <type>string</type>
            <parameter>method</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setScheme</methodname>
          <methodparam>
            <type>string</type>
            <parameter>scheme</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setSSL</methodname>
          <methodparam>
            <type>boolean</type>
            <parameter>ssl</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setTimeout</methodname>
          <methodparam>
            <type>integer</type>
            <parameter>timeout</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setCallback</methodname>
          <methodparam>
            <type>Closure</type>
            <parameter>callback</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Url</type>
          <methodname>getUrl</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getMethod</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getScheme</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>boolean</type>
          <methodname>isSSL</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getTimeout</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>Closure</type>
          <methodname>getCallback</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getLine</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>addHeader</methodname>
          <methodparam>
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
          <methodparam>
            <type>string</type>
            <parameter>value</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setFollowLocation</methodname>
          <methodparam>
            <type>boolean</type>
            <parameter>location</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>integer</type>
            <parameter>maxRedirects</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>boolean</type>
          <methodname>getFollowLocation</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getMaxRedirects</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>toString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>__toString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <modifier>static</modifier>
          <type>array</type>
          <methodname>mergeHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>defaultHeader</parameter>
          </methodparam>
          <methodparam>
            <type>array</type>
            <parameter>customHeader</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setBody</methodname>
          <methodparam>
            <type>string</type>
            <parameter>body</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>array|string</type>
          <methodname>getHeader</methodname>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getBody</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_Message</title>
      <para>PSX_Http_Message</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_Message</classname>
        </ooclass>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Http_Message</type>
          <methodname>__construct</methodname>
          <methodparam choice="opt">
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>body</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setBody</methodname>
          <methodparam>
            <type>string</type>
            <parameter>body</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>array|string</type>
          <methodname>getHeader</methodname>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getBody</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_PostRequest</title>
      <para>PSX_Http_PostRequest</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_PostRequest</classname>
        </ooclass>
        <ooclass>
          <classname>PSX_Http_Request</classname>
        </ooclass>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Http_PostRequest</type>
          <methodname>__construct</methodname>
          <methodparam>
            <type>PSX_Url|string</type>
            <parameter>url</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>array</type>
            <parameter>body</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>setBody</methodname>
          <methodparam>
            <type>mixed</type>
            <parameter>body</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setUrl</methodname>
          <methodparam>
            <type>PSX_Url</type>
            <parameter>url</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setMethod</methodname>
          <methodparam>
            <type>string</type>
            <parameter>method</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setScheme</methodname>
          <methodparam>
            <type>string</type>
            <parameter>scheme</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setSSL</methodname>
          <methodparam>
            <type>boolean</type>
            <parameter>ssl</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setTimeout</methodname>
          <methodparam>
            <type>integer</type>
            <parameter>timeout</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setCallback</methodname>
          <methodparam>
            <type>Closure</type>
            <parameter>callback</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Url</type>
          <methodname>getUrl</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getMethod</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getScheme</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>boolean</type>
          <methodname>isSSL</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getTimeout</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>Closure</type>
          <methodname>getCallback</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getLine</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>addHeader</methodname>
          <methodparam>
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
          <methodparam>
            <type>string</type>
            <parameter>value</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setFollowLocation</methodname>
          <methodparam>
            <type>boolean</type>
            <parameter>location</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>integer</type>
            <parameter>maxRedirects</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>boolean</type>
          <methodname>getFollowLocation</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getMaxRedirects</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>toString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>__toString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <modifier>static</modifier>
          <type>array</type>
          <methodname>mergeHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>defaultHeader</parameter>
          </methodparam>
          <methodparam>
            <type>array</type>
            <parameter>customHeader</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>array|string</type>
          <methodname>getHeader</methodname>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getBody</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_PutRequest</title>
      <para>PSX_Http_PutRequest</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_PutRequest</classname>
        </ooclass>
        <ooclass>
          <classname>PSX_Http_Request</classname>
        </ooclass>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Http_PutRequest</type>
          <methodname>__construct</methodname>
          <methodparam>
            <type>PSX_Url|string</type>
            <parameter>url</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>body</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>boolean</type>
            <parameter>override</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>setBody</methodname>
          <methodparam>
            <type>mixed</type>
            <parameter>body</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setUrl</methodname>
          <methodparam>
            <type>PSX_Url</type>
            <parameter>url</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setMethod</methodname>
          <methodparam>
            <type>string</type>
            <parameter>method</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setScheme</methodname>
          <methodparam>
            <type>string</type>
            <parameter>scheme</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setSSL</methodname>
          <methodparam>
            <type>boolean</type>
            <parameter>ssl</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setTimeout</methodname>
          <methodparam>
            <type>integer</type>
            <parameter>timeout</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setCallback</methodname>
          <methodparam>
            <type>Closure</type>
            <parameter>callback</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Url</type>
          <methodname>getUrl</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getMethod</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getScheme</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>boolean</type>
          <methodname>isSSL</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getTimeout</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>Closure</type>
          <methodname>getCallback</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getLine</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>addHeader</methodname>
          <methodparam>
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
          <methodparam>
            <type>string</type>
            <parameter>value</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setFollowLocation</methodname>
          <methodparam>
            <type>boolean</type>
            <parameter>location</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>integer</type>
            <parameter>maxRedirects</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>boolean</type>
          <methodname>getFollowLocation</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getMaxRedirects</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>toString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>__toString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <modifier>static</modifier>
          <type>array</type>
          <methodname>mergeHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>defaultHeader</parameter>
          </methodparam>
          <methodparam>
            <type>array</type>
            <parameter>customHeader</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>array|string</type>
          <methodname>getHeader</methodname>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getBody</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_Request</title>
      <para>PSX_Http_Request</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_Request</classname>
        </ooclass>
        <ooclass>
          <classname>PSX_Http_Message</classname>
        </ooclass>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Http_Request</type>
          <methodname>__construct</methodname>
          <methodparam>
            <type>PSX_Url</type>
            <parameter>url</parameter>
          </methodparam>
          <methodparam>
            <type>string</type>
            <parameter>method</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>body</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>scheme</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setUrl</methodname>
          <methodparam>
            <type>PSX_Url</type>
            <parameter>url</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setMethod</methodname>
          <methodparam>
            <type>string</type>
            <parameter>method</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setScheme</methodname>
          <methodparam>
            <type>string</type>
            <parameter>scheme</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setSSL</methodname>
          <methodparam>
            <type>boolean</type>
            <parameter>ssl</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setTimeout</methodname>
          <methodparam>
            <type>integer</type>
            <parameter>timeout</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setCallback</methodname>
          <methodparam>
            <type>Closure</type>
            <parameter>callback</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Url</type>
          <methodname>getUrl</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getMethod</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getScheme</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>boolean</type>
          <methodname>isSSL</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getTimeout</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>Closure</type>
          <methodname>getCallback</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getLine</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>addHeader</methodname>
          <methodparam>
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
          <methodparam>
            <type>string</type>
            <parameter>value</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setFollowLocation</methodname>
          <methodparam>
            <type>boolean</type>
            <parameter>location</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>integer</type>
            <parameter>maxRedirects</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>boolean</type>
          <methodname>getFollowLocation</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getMaxRedirects</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>toString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <methodname>__toString</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <modifier>static</modifier>
          <type>array</type>
          <methodname>mergeHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>defaultHeader</parameter>
          </methodparam>
          <methodparam>
            <type>array</type>
            <parameter>customHeader</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setBody</methodname>
          <methodparam>
            <type>string</type>
            <parameter>body</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>array|string</type>
          <methodname>getHeader</methodname>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getBody</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
    <sect1>
      <title>PSX_Http_Response</title>
      <para>PSX_Http_Response</para>
      <classsynopsis>
        <ooclass>
          <classname>PSX_Http_Response</classname>
        </ooclass>
        <ooclass>
          <classname>PSX_Http_Message</classname>
        </ooclass>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>PSX_Http_Response</type>
          <methodname>__construct</methodname>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>scheme</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>integer</type>
            <parameter>code</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>message</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>body</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setScheme</methodname>
          <methodparam>
            <type>string</type>
            <parameter>scheme</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setCode</methodname>
          <methodparam>
            <type>integer</type>
            <parameter>code</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setMessage</methodname>
          <methodparam>
            <type>string</type>
            <parameter>message</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getScheme</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>integer</type>
          <methodname>getCode</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getMessage</methodname>
          <void/>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <modifier>static</modifier>
          <type>PSX_Http_Response</type>
          <methodname>convert</methodname>
          <methodparam>
            <type>string</type>
            <parameter>content</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <modifier>static</modifier>
          <type>array</type>
          <methodname>splitResponse</methodname>
          <methodparam>
            <type>string</type>
            <parameter>response</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <modifier>static</modifier>
          <type>array&lt;string, string&gt;</type>
          <methodname>headerToArray</methodname>
          <methodparam>
            <type>string</type>
            <parameter>header</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setHeader</methodname>
          <methodparam>
            <type>array</type>
            <parameter>header</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>void</type>
          <methodname>setBody</methodname>
          <methodparam>
            <type>string</type>
            <parameter>body</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>array|string</type>
          <methodname>getHeader</methodname>
          <methodparam choice="opt">
            <type>string</type>
            <parameter>key</parameter>
          </methodparam>
        </methodsynopsis>
        <methodsynopsis>
          <modifier>public</modifier>
          <type>string</type>
          <methodname>getBody</methodname>
          <void/>
        </methodsynopsis>
      </classsynopsis>
    </sect1>
  </appendix>
</book>
